   object_type    | table_schema |            table_name            |                           column_name                           |          data_type          |      udt_name      |                                                                                                                                                column_default                                                                                                                                                 | is_nullable |  key_type   |                               references                               | unique_constraint |                          column_comment                          | table_comment | character_maximum_length | numeric_precision | ordinal_position 
------------------+--------------+----------------------------------+-----------------------------------------------------------------+-----------------------------+--------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------+-------------+------------------------------------------------------------------------+-------------------+------------------------------------------------------------------+---------------+--------------------------+-------------------+------------------
 CHECK_CONSTRAINT | neon_auth    | users_sync                       | 24797_24798_1_not_null                                          | check                       |                    | raw_json IS NOT NULL                                                                                                                                                                                                                                                                                          |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | neon_auth    | users_sync                       | 24797_24798_2_not_null                                          | check                       |                    | id IS NOT NULL                                                                                                                                                                                                                                                                                                |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | adjustment_rules                 | 278616_278699_1_not_null                                        | check                       |                    | id IS NOT NULL                                                                                                                                                                                                                                                                                                |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | adjustment_rules                 | 278616_278699_2_not_null                                        | check                       |                    | cycle_id IS NOT NULL                                                                                                                                                                                                                                                                                          |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | adjustment_rules                 | 278616_278699_3_not_null                                        | check                       |                    | date_type_id IS NOT NULL                                                                                                                                                                                                                                                                                      |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | adjustment_rules                 | 278616_278699_4_not_null                                        | check                       |                    | rule_description IS NOT NULL                                                                                                                                                                                                                                                                                  |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | adjustment_rules                 | 278616_278699_5_not_null                                        | check                       |                    | rule_code IS NOT NULL                                                                                                                                                                                                                                                                                         |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | app_settings                     | 278616_278707_1_not_null                                        | check                       |                    | id IS NOT NULL                                                                                                                                                                                                                                                                                                |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | client_external_systems          | 278616_278712_1_not_null                                        | check                       |                    | id IS NOT NULL                                                                                                                                                                                                                                                                                                |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | client_external_systems          | 278616_278712_2_not_null                                        | check                       |                    | client_id IS NOT NULL                                                                                                                                                                                                                                                                                         |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | client_external_systems          | 278616_278712_3_not_null                                        | check                       |                    | system_id IS NOT NULL                                                                                                                                                                                                                                                                                         |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | clients                          | 278616_278718_1_not_null                                        | check                       |                    | id IS NOT NULL                                                                                                                                                                                                                                                                                                |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | clients                          | 278616_278718_2_not_null                                        | check                       |                    | name IS NOT NULL                                                                                                                                                                                                                                                                                              |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | external_systems                 | 278616_278727_1_not_null                                        | check                       |                    | id IS NOT NULL                                                                                                                                                                                                                                                                                                |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | external_systems                 | 278616_278727_2_not_null                                        | check                       |                    | name IS NOT NULL                                                                                                                                                                                                                                                                                              |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | external_systems                 | 278616_278727_3_not_null                                        | check                       |                    | url IS NOT NULL                                                                                                                                                                                                                                                                                               |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | feature_flags                    | 278616_278735_1_not_null                                        | check                       |                    | id IS NOT NULL                                                                                                                                                                                                                                                                                                |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | feature_flags                    | 278616_278735_2_not_null                                        | check                       |                    | feature_name IS NOT NULL                                                                                                                                                                                                                                                                                      |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | feature_flags                    | 278616_278735_4_not_null                                        | check                       |                    | allowed_roles IS NOT NULL                                                                                                                                                                                                                                                                                     |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | holidays                         | 278616_278744_10_not_null                                       | check                       |                    | types IS NOT NULL                                                                                                                                                                                                                                                                                             |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | holidays                         | 278616_278744_1_not_null                                        | check                       |                    | id IS NOT NULL                                                                                                                                                                                                                                                                                                |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | holidays                         | 278616_278744_2_not_null                                        | check                       |                    | date IS NOT NULL                                                                                                                                                                                                                                                                                              |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | holidays                         | 278616_278744_3_not_null                                        | check                       |                    | local_name IS NOT NULL                                                                                                                                                                                                                                                                                        |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | holidays                         | 278616_278744_4_not_null                                        | check                       |                    | name IS NOT NULL                                                                                                                                                                                                                                                                                              |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | holidays                         | 278616_278744_5_not_null                                        | check                       |                    | country_code IS NOT NULL                                                                                                                                                                                                                                                                                      |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | leave                            | 278616_278754_1_not_null                                        | check                       |                    | id IS NOT NULL                                                                                                                                                                                                                                                                                                |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | leave                            | 278616_278754_2_not_null                                        | check                       |                    | user_id IS NOT NULL                                                                                                                                                                                                                                                                                           |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | leave                            | 278616_278754_3_not_null                                        | check                       |                    | start_date IS NOT NULL                                                                                                                                                                                                                                                                                        |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | leave                            | 278616_278754_4_not_null                                        | check                       |                    | end_date IS NOT NULL                                                                                                                                                                                                                                                                                          |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | leave                            | 278616_278754_5_not_null                                        | check                       |                    | leave_type IS NOT NULL                                                                                                                                                                                                                                                                                        |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | leave                            | check_leave_dates                                               | check                       |                    | ((end_date >= start_date))                                                                                                                                                                                                                                                                                    |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | leave                            | leave_leave_type_check                                          | check                       |                    | (((leave_type)::text = ANY (ARRAY[('Annual'::character varying)::text, ('Sick'::character varying)::text, ('Unpaid'::character varying)::text, ('Other'::character varying)::text])))                                                                                                                         |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | notes                            | 278616_278763_1_not_null                                        | check                       |                    | id IS NOT NULL                                                                                                                                                                                                                                                                                                |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | notes                            | 278616_278763_2_not_null                                        | check                       |                    | entity_type IS NOT NULL                                                                                                                                                                                                                                                                                       |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | notes                            | 278616_278763_3_not_null                                        | check                       |                    | entity_id IS NOT NULL                                                                                                                                                                                                                                                                                         |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | notes                            | 278616_278763_5_not_null                                        | check                       |                    | content IS NOT NULL                                                                                                                                                                                                                                                                                           |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | notes                            | notes_entity_type_check                                         | check                       |                    | ((entity_type = ANY (ARRAY['payroll'::text, 'client'::text])))                                                                                                                                                                                                                                                |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | payroll_cycles                   | 278616_278773_1_not_null                                        | check                       |                    | id IS NOT NULL                                                                                                                                                                                                                                                                                                |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | payroll_cycles                   | 278616_278773_2_not_null                                        | check                       |                    | name IS NOT NULL                                                                                                                                                                                                                                                                                              |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | payroll_date_types               | 278616_278781_1_not_null                                        | check                       |                    | id IS NOT NULL                                                                                                                                                                                                                                                                                                |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | payroll_date_types               | 278616_278781_2_not_null                                        | check                       |                    | name IS NOT NULL                                                                                                                                                                                                                                                                                              |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | payroll_dates                    | 278616_278678_1_not_null                                        | check                       |                    | id IS NOT NULL                                                                                                                                                                                                                                                                                                |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | payroll_dates                    | 278616_278678_2_not_null                                        | check                       |                    | payroll_id IS NOT NULL                                                                                                                                                                                                                                                                                        |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | payroll_dates                    | 278616_278678_3_not_null                                        | check                       |                    | original_eft_date IS NOT NULL                                                                                                                                                                                                                                                                                 |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | payroll_dates                    | 278616_278678_4_not_null                                        | check                       |                    | adjusted_eft_date IS NOT NULL                                                                                                                                                                                                                                                                                 |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | payroll_dates                    | 278616_278678_5_not_null                                        | check                       |                    | processing_date IS NOT NULL                                                                                                                                                                                                                                                                                   |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | payroll_dates                    | check_payroll_dates_order                                       | check                       |                    | ((adjusted_eft_date >= processing_date))                                                                                                                                                                                                                                                                      |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | payrolls                         | 278616_278789_10_not_null                                       | check                       |                    | processing_days_before_eft IS NOT NULL                                                                                                                                                                                                                                                                        |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | payrolls                         | 278616_278789_14_not_null                                       | check                       |                    | status IS NOT NULL                                                                                                                                                                                                                                                                                            |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | payrolls                         | 278616_278789_15_not_null                                       | check                       |                    | processing_time IS NOT NULL                                                                                                                                                                                                                                                                                   |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | payrolls                         | 278616_278789_1_not_null                                        | check                       |                    | id IS NOT NULL                                                                                                                                                                                                                                                                                                |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | payrolls                         | 278616_278789_2_not_null                                        | check                       |                    | client_id IS NOT NULL                                                                                                                                                                                                                                                                                         |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | payrolls                         | 278616_278789_3_not_null                                        | check                       |                    | name IS NOT NULL                                                                                                                                                                                                                                                                                              |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | payrolls                         | 278616_278789_4_not_null                                        | check                       |                    | cycle_id IS NOT NULL                                                                                                                                                                                                                                                                                          |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | payrolls                         | 278616_278789_5_not_null                                        | check                       |                    | date_type_id IS NOT NULL                                                                                                                                                                                                                                                                                      |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | payrolls                         | check_positive_values                                           | check                       |                    | (((processing_days_before_eft >= 0) AND (processing_time >= 0) AND ((employee_count IS NULL) OR (employee_count >= 0))))                                                                                                                                                                                      |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | permission_audit_log             | 278616_279030_1_not_null                                        | check                       |                    | id IS NOT NULL                                                                                                                                                                                                                                                                                                |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | permission_audit_log             | 278616_279030_5_not_null                                        | check                       |                    | resource IS NOT NULL                                                                                                                                                                                                                                                                                          |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | permission_audit_log             | 278616_279030_6_not_null                                        | check                       |                    | operation IS NOT NULL                                                                                                                                                                                                                                                                                         |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | permission_audit_log             | 278616_279030_7_not_null                                        | check                       |                    | action IS NOT NULL                                                                                                                                                                                                                                                                                            |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | permission_overrides             | 278616_279001_1_not_null                                        | check                       |                    | id IS NOT NULL                                                                                                                                                                                                                                                                                                |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | permission_overrides             | 278616_279001_4_not_null                                        | check                       |                    | resource IS NOT NULL                                                                                                                                                                                                                                                                                          |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | permission_overrides             | 278616_279001_5_not_null                                        | check                       |                    | operation IS NOT NULL                                                                                                                                                                                                                                                                                         |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | permission_overrides             | 278616_279001_6_not_null                                        | check                       |                    | granted IS NOT NULL                                                                                                                                                                                                                                                                                           |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | permission_overrides             | check_user_or_role                                              | check                       |                    | ((((user_id IS NOT NULL) AND (role IS NULL)) OR ((user_id IS NULL) AND (role IS NOT NULL))))                                                                                                                                                                                                                  |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | permission_overrides             | check_valid_operation                                           | check                       |                    | ((operation = ANY (ARRAY['create'::text, 'read'::text, 'update'::text, 'delete'::text])))                                                                                                                                                                                                                     |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | users                            | 278616_278813_1_not_null                                        | check                       |                    | id IS NOT NULL                                                                                                                                                                                                                                                                                                |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | users                            | 278616_278813_2_not_null                                        | check                       |                    | name IS NOT NULL                                                                                                                                                                                                                                                                                              |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | users                            | 278616_278813_3_not_null                                        | check                       |                    | email IS NOT NULL                                                                                                                                                                                                                                                                                             |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | users                            | 278616_278813_4_not_null                                        | check                       |                    | role IS NOT NULL                                                                                                                                                                                                                                                                                              |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | work_schedule                    | 278616_278828_1_not_null                                        | check                       |                    | id IS NOT NULL                                                                                                                                                                                                                                                                                                |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | work_schedule                    | 278616_278828_2_not_null                                        | check                       |                    | user_id IS NOT NULL                                                                                                                                                                                                                                                                                           |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | work_schedule                    | 278616_278828_3_not_null                                        | check                       |                    | work_day IS NOT NULL                                                                                                                                                                                                                                                                                          |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | work_schedule                    | 278616_278828_4_not_null                                        | check                       |                    | work_hours IS NOT NULL                                                                                                                                                                                                                                                                                        |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | work_schedule                    | work_schedule_work_day_check                                    | check                       |                    | (((work_day)::text = ANY (ARRAY[('Monday'::character varying)::text, ('Tuesday'::character varying)::text, ('Wednesday'::character varying)::text, ('Thursday'::character varying)::text, ('Friday'::character varying)::text, ('Saturday'::character varying)::text, ('Sunday'::character varying)::text]))) |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 CHECK_CONSTRAINT | public       | work_schedule                    | work_schedule_work_hours_check                                  | check                       |                    | (((work_hours >= (0)::numeric) AND (work_hours <= (24)::numeric)))                                                                                                                                                                                                                                            |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 ENUM             | public       | leave_status_enum                |                                                                 | enum                        |                    | Pending, Approved, Rejected                                                                                                                                                                                                                                                                                   |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 ENUM             | public       | payroll_cycle_type               |                                                                 | enum                        |                    | weekly, fortnightly, bi_monthly, monthly, quarterly                                                                                                                                                                                                                                                           |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 ENUM             | public       | payroll_date_type                |                                                                 | enum                        |                    | fixed_date, eom, som, week_a, week_b, dow                                                                                                                                                                                                                                                                     |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 ENUM             | public       | payroll_status                   |                                                                 | enum                        |                    | Active, Implementation, Inactive                                                                                                                                                                                                                                                                              |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 ENUM             | public       | payroll_status_new               |                                                                 | enum                        |                    | live, inactive, onboarding, possible, implementation                                                                                                                                                                                                                                                          |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 ENUM             | public       | status                           |                                                                 | enum                        |                    | active, inactive, archived                                                                                                                                                                                                                                                                                    |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 ENUM             | public       | user_role                        |                                                                 | enum                        |                    | admin, org_admin, manager, consultant, viewer                                                                                                                                                                                                                                                                 |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 FUNCTION         | public       | adjust_for_non_business_day      | p_date date, p_rule_code text DEFAULT 'previous'::text          | date                        | plpgsql            |                                                                                                                                                                                                                                                                                                               |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 FUNCTION         | public       | enforce_entity_relation          |                                                                 | trigger                     | plpgsql            |                                                                                                                                                                                                                                                                                                               |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 FUNCTION         | public       | enforce_staff_roles              |                                                                 | trigger                     | plpgsql            |                                                                                                                                                                                                                                                                                                               |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 FUNCTION         | public       | generate_payroll_dates           | p_payroll_id uuid, p_start_date date DEFAULT NULL::date, p_end_ | SETOF SETOF payroll_dates   | plpgsql            |                                                                                                                                                                                                                                                                                                               |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 FUNCTION         | public       | is_business_day                  | p_date date                                                     | boolean                     | plpgsql            |                                                                                                                                                                                                                                                                                                               |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 FUNCTION         | public       | prevent_duplicate_workday_insert |                                                                 | trigger                     | plpgsql            |                                                                                                                                                                                                                                                                                                               |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 FUNCTION         | public       | subtract_business_days           | p_date date, p_days integer                                     | date                        | plpgsql            |                                                                                                                                                                                                                                                                                                               |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 FUNCTION         | public       | update_modified_column           |                                                                 | trigger                     | plpgsql            |                                                                                                                                                                                                                                                                                                               |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 FUNCTION         | public       | update_payroll_dates             |                                                                 | trigger                     | plpgsql            |                                                                                                                                                                                                                                                                                                               |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | neon_auth    | users_sync                       | users_sync_deleted_at_idx                                       | index                       |                    | CREATE INDEX users_sync_deleted_at_idx ON neon_auth.users_sync USING btree (deleted_at)                                                                                                                                                                                                                       |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | neon_auth    | users_sync                       | users_sync_pkey                                                 | index                       |                    | CREATE UNIQUE INDEX users_sync_pkey ON neon_auth.users_sync USING btree (id)                                                                                                                                                                                                                                  |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | adjustment_rules                 | adjustment_rules_cycle_id_date_type_id_key                      | index                       |                    | CREATE UNIQUE INDEX adjustment_rules_cycle_id_date_type_id_key ON public.adjustment_rules USING btree (cycle_id, date_type_id)                                                                                                                                                                                |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | adjustment_rules                 | adjustment_rules_pkey                                           | index                       |                    | CREATE UNIQUE INDEX adjustment_rules_pkey ON public.adjustment_rules USING btree (id)                                                                                                                                                                                                                         |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | app_settings                     | app_settings_pkey                                               | index                       |                    | CREATE UNIQUE INDEX app_settings_pkey ON public.app_settings USING btree (id)                                                                                                                                                                                                                                 |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | client_external_systems          | client_external_systems_client_id_system_id_key                 | index                       |                    | CREATE UNIQUE INDEX client_external_systems_client_id_system_id_key ON public.client_external_systems USING btree (client_id, system_id)                                                                                                                                                                      |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | client_external_systems          | client_external_systems_pkey                                    | index                       |                    | CREATE UNIQUE INDEX client_external_systems_pkey ON public.client_external_systems USING btree (id)                                                                                                                                                                                                           |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | clients                          | clients_pkey                                                    | index                       |                    | CREATE UNIQUE INDEX clients_pkey ON public.clients USING btree (id)                                                                                                                                                                                                                                           |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | external_systems                 | external_systems_pkey                                           | index                       |                    | CREATE UNIQUE INDEX external_systems_pkey ON public.external_systems USING btree (id)                                                                                                                                                                                                                         |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | feature_flags                    | feature_flags_feature_name_key                                  | index                       |                    | CREATE UNIQUE INDEX feature_flags_feature_name_key ON public.feature_flags USING btree (feature_name)                                                                                                                                                                                                         |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | feature_flags                    | feature_flags_pkey                                              | index                       |                    | CREATE UNIQUE INDEX feature_flags_pkey ON public.feature_flags USING btree (id)                                                                                                                                                                                                                               |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | holidays                         | holidays_pkey                                                   | index                       |                    | CREATE UNIQUE INDEX holidays_pkey ON public.holidays USING btree (id)                                                                                                                                                                                                                                         |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | holidays                         | idx_holidays_date_country_region                                | index                       |                    | CREATE INDEX idx_holidays_date_country_region ON public.holidays USING btree (date, country_code, region)                                                                                                                                                                                                     |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | leave                            | idx_leave_dates                                                 | index                       |                    | CREATE INDEX idx_leave_dates ON public.leave USING btree (start_date, end_date)                                                                                                                                                                                                                               |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | leave                            | idx_leave_user_id                                               | index                       |                    | CREATE INDEX idx_leave_user_id ON public.leave USING btree (user_id)                                                                                                                                                                                                                                          |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | leave                            | leave_pkey                                                      | index                       |                    | CREATE UNIQUE INDEX leave_pkey ON public.leave USING btree (id)                                                                                                                                                                                                                                               |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | notes                            | idx_notes_entity                                                | index                       |                    | CREATE INDEX idx_notes_entity ON public.notes USING btree (entity_type, entity_id)                                                                                                                                                                                                                            |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | notes                            | idx_notes_important                                             | index                       |                    | CREATE INDEX idx_notes_important ON public.notes USING btree (is_important) WHERE (is_important = true)                                                                                                                                                                                                       |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | notes                            | idx_notes_user_id                                               | index                       |                    | CREATE INDEX idx_notes_user_id ON public.notes USING btree (user_id)                                                                                                                                                                                                                                          |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | notes                            | notes_pkey                                                      | index                       |                    | CREATE UNIQUE INDEX notes_pkey ON public.notes USING btree (id)                                                                                                                                                                                                                                               |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | payroll_cycles                   | payroll_cycles_name_key                                         | index                       |                    | CREATE UNIQUE INDEX payroll_cycles_name_key ON public.payroll_cycles USING btree (name)                                                                                                                                                                                                                       |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | payroll_cycles                   | payroll_cycles_pkey                                             | index                       |                    | CREATE UNIQUE INDEX payroll_cycles_pkey ON public.payroll_cycles USING btree (id)                                                                                                                                                                                                                             |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | payroll_date_types               | payroll_date_types_name_key                                     | index                       |                    | CREATE UNIQUE INDEX payroll_date_types_name_key ON public.payroll_date_types USING btree (name)                                                                                                                                                                                                               |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | payroll_date_types               | payroll_date_types_pkey                                         | index                       |                    | CREATE UNIQUE INDEX payroll_date_types_pkey ON public.payroll_date_types USING btree (id)                                                                                                                                                                                                                     |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | payroll_dates                    | idx_payroll_dates_composite                                     | index                       |                    | CREATE INDEX idx_payroll_dates_composite ON public.payroll_dates USING btree (payroll_id, adjusted_eft_date, processing_date)                                                                                                                                                                                 |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | payroll_dates                    | idx_payroll_dates_date_range                                    | index                       |                    | CREATE INDEX idx_payroll_dates_date_range ON public.payroll_dates USING btree (adjusted_eft_date)                                                                                                                                                                                                             |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | payroll_dates                    | idx_payroll_dates_notes                                         | index                       |                    | CREATE INDEX idx_payroll_dates_notes ON public.payroll_dates USING gin (to_tsvector('english'::regconfig, notes))                                                                                                                                                                                             |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | payroll_dates                    | idx_payroll_dates_payroll_id                                    | index                       |                    | CREATE INDEX idx_payroll_dates_payroll_id ON public.payroll_dates USING btree (payroll_id)                                                                                                                                                                                                                    |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | payroll_dates                    | idx_payroll_dates_processing                                    | index                       |                    | CREATE INDEX idx_payroll_dates_processing ON public.payroll_dates USING btree (processing_date)                                                                                                                                                                                                               |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | payroll_dates                    | idx_unique_payroll_date                                         | index                       |                    | CREATE UNIQUE INDEX idx_unique_payroll_date ON public.payroll_dates USING btree (payroll_id, original_eft_date)                                                                                                                                                                                               |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | payroll_dates                    | payroll_dates_pkey                                              | index                       |                    | CREATE UNIQUE INDEX payroll_dates_pkey ON public.payroll_dates USING btree (id)                                                                                                                                                                                                                               |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | payrolls                         | idx_payrolls_client_id                                          | index                       |                    | CREATE INDEX idx_payrolls_client_id ON public.payrolls USING btree (client_id)                                                                                                                                                                                                                                |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | payrolls                         | idx_payrolls_consultant                                         | index                       |                    | CREATE INDEX idx_payrolls_consultant ON public.payrolls USING btree (primary_consultant_user_id)                                                                                                                                                                                                              |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | payrolls                         | idx_payrolls_go_live_date                                       | index                       |                    | CREATE INDEX idx_payrolls_go_live_date ON public.payrolls USING btree (go_live_date)                                                                                                                                                                                                                          |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | payrolls                         | idx_payrolls_manager                                            | index                       |                    | CREATE INDEX idx_payrolls_manager ON public.payrolls USING btree (manager_user_id)                                                                                                                                                                                                                            |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | payrolls                         | idx_payrolls_staff_composite                                    | index                       |                    | CREATE INDEX idx_payrolls_staff_composite ON public.payrolls USING btree (primary_consultant_user_id, backup_consultant_user_id, manager_user_id)                                                                                                                                                             |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | payrolls                         | idx_payrolls_status_client                                      | index                       |                    | CREATE INDEX idx_payrolls_status_client ON public.payrolls USING btree (status, client_id) WHERE (status <> 'Inactive'::payroll_status)                                                                                                                                                                       |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | payrolls                         | payrolls_pkey                                                   | index                       |                    | CREATE UNIQUE INDEX payrolls_pkey ON public.payrolls USING btree (id)                                                                                                                                                                                                                                         |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | permission_audit_log             | idx_permission_audit_created                                    | index                       |                    | CREATE INDEX idx_permission_audit_created ON public.permission_audit_log USING btree (created_at)                                                                                                                                                                                                             |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | permission_audit_log             | idx_permission_audit_log_action                                 | index                       |                    | CREATE INDEX idx_permission_audit_log_action ON public.permission_audit_log USING btree (action)                                                                                                                                                                                                              |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | permission_audit_log             | idx_permission_audit_log_resource                               | index                       |                    | CREATE INDEX idx_permission_audit_log_resource ON public.permission_audit_log USING btree (resource)                                                                                                                                                                                                          |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | permission_audit_log             | idx_permission_audit_target_user                                | index                       |                    | CREATE INDEX idx_permission_audit_target_user ON public.permission_audit_log USING btree (target_user_id)                                                                                                                                                                                                     |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | permission_audit_log             | idx_permission_audit_user                                       | index                       |                    | CREATE INDEX idx_permission_audit_user ON public.permission_audit_log USING btree (user_id)                                                                                                                                                                                                                   |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | permission_audit_log             | permission_audit_log_pkey                                       | index                       |                    | CREATE UNIQUE INDEX permission_audit_log_pkey ON public.permission_audit_log USING btree (id)                                                                                                                                                                                                                 |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | permission_overrides             | idx_permission_overrides_created_by                             | index                       |                    | CREATE INDEX idx_permission_overrides_created_by ON public.permission_overrides USING btree (created_by)                                                                                                                                                                                                      |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | permission_overrides             | idx_permission_overrides_expires                                | index                       |                    | CREATE INDEX idx_permission_overrides_expires ON public.permission_overrides USING btree (expires_at) WHERE (expires_at IS NOT NULL)                                                                                                                                                                          |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | permission_overrides             | idx_permission_overrides_resource                               | index                       |                    | CREATE INDEX idx_permission_overrides_resource ON public.permission_overrides USING btree (resource)                                                                                                                                                                                                          |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | permission_overrides             | idx_permission_overrides_role                                   | index                       |                    | CREATE INDEX idx_permission_overrides_role ON public.permission_overrides USING btree (role)                                                                                                                                                                                                                  |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | permission_overrides             | idx_permission_overrides_user                                   | index                       |                    | CREATE INDEX idx_permission_overrides_user ON public.permission_overrides USING btree (user_id)                                                                                                                                                                                                               |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | permission_overrides             | permission_overrides_pkey                                       | index                       |                    | CREATE UNIQUE INDEX permission_overrides_pkey ON public.permission_overrides USING btree (id)                                                                                                                                                                                                                 |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | permission_overrides             | unique_role_resource_operation                                  | index                       |                    | CREATE UNIQUE INDEX unique_role_resource_operation ON public.permission_overrides USING btree (role, resource, operation) NULLS NOT DISTINCT                                                                                                                                                                  |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | permission_overrides             | unique_user_resource_operation                                  | index                       |                    | CREATE UNIQUE INDEX unique_user_resource_operation ON public.permission_overrides USING btree (user_id, resource, operation) NULLS NOT DISTINCT                                                                                                                                                               |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | users                            | idx_users_clerk_composite                                       | index                       |                    | CREATE INDEX idx_users_clerk_composite ON public.users USING btree (clerk_user_id, role, is_staff)                                                                                                                                                                                                            |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | users                            | idx_users_role                                                  | index                       |                    | CREATE INDEX idx_users_role ON public.users USING btree (role)                                                                                                                                                                                                                                                |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | users                            | users_clerk_user_id_key                                         | index                       |                    | CREATE UNIQUE INDEX users_clerk_user_id_key ON public.users USING btree (clerk_user_id)                                                                                                                                                                                                                       |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | users                            | users_email_key                                                 | index                       |                    | CREATE UNIQUE INDEX users_email_key ON public.users USING btree (email)                                                                                                                                                                                                                                       |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | users                            | users_pkey                                                      | index                       |                    | CREATE UNIQUE INDEX users_pkey ON public.users USING btree (id)                                                                                                                                                                                                                                               |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | users                            | users_username_key                                              | index                       |                    | CREATE UNIQUE INDEX users_username_key ON public.users USING btree (username)                                                                                                                                                                                                                                 |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | work_schedule                    | idx_work_schedule_user_id                                       | index                       |                    | CREATE INDEX idx_work_schedule_user_id ON public.work_schedule USING btree (user_id)                                                                                                                                                                                                                          |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | work_schedule                    | unique_user_work_day                                            | index                       |                    | CREATE UNIQUE INDEX unique_user_work_day ON public.work_schedule USING btree (user_id, work_day)                                                                                                                                                                                                              |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 INDEX            | public       | work_schedule                    | work_schedule_pkey                                              | index                       |                    | CREATE UNIQUE INDEX work_schedule_pkey ON public.work_schedule USING btree (id)                                                                                                                                                                                                                               |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 TABLE            | neon_auth    | users_sync                       | raw_json                                                        | jsonb                       | jsonb              |                                                                                                                                                                                                                                                                                                               | NO          |             |                                                                        |                   | Complete JSON data from the authentication provider              |               |                          |                   |                1
 TABLE            | neon_auth    | users_sync                       | id                                                              | text                        | text               |                                                                                                                                                                                                                                                                                                               | NO          | PRIMARY KEY |                                                                        |                   | Unique identifier from the authentication provider               |               |                          |                   |                2
 TABLE            | neon_auth    | users_sync                       | name                                                            | text                        | text               |                                                                                                                                                                                                                                                                                                               | YES         |             |                                                                        |                   | User's full name from authentication provider                    |               |                          |                   |                3
 TABLE            | neon_auth    | users_sync                       | email                                                           | text                        | text               |                                                                                                                                                                                                                                                                                                               | YES         |             |                                                                        |                   | User's email address from authentication provider                |               |                          |                   |                4
 TABLE            | neon_auth    | users_sync                       | created_at                                                      | timestamp with time zone    | timestamptz        |                                                                                                                                                                                                                                                                                                               | YES         |             |                                                                        |                   | Timestamp when the user was created in the auth system           |               |                          |                   |                5
 TABLE            | neon_auth    | users_sync                       | updated_at                                                      | timestamp with time zone    | timestamptz        |                                                                                                                                                                                                                                                                                                               | YES         |             |                                                                        |                   | Timestamp when the user was last updated in the auth system      |               |                          |                   |                6
 TABLE            | neon_auth    | users_sync                       | deleted_at                                                      | timestamp with time zone    | timestamptz        |                                                                                                                                                                                                                                                                                                               | YES         |             |                                                                        |                   | Timestamp when the user was deleted in the auth system           |               |                          |                   |                7
 TABLE            | public       | adjustment_rules                 | id                                                              | uuid                        | uuid               | gen_random_uuid()                                                                                                                                                                                                                                                                                             | NO          | PRIMARY KEY |                                                                        |                   | Unique identifier for the adjustment rule                        |               |                          |                   |                1
 TABLE            | public       | adjustment_rules                 | cycle_id                                                        | uuid                        | uuid               |                                                                                                                                                                                                                                                                                                               | NO          |             | public.payroll_cycles.id (ON UPDATE NO ACTION, ON DELETE CASCADE)      | UNIQUE            | Reference to the payroll cycle this rule applies to              |               |                          |                   |                2
 TABLE            | public       | adjustment_rules                 | date_type_id                                                    | uuid                        | uuid               |                                                                                                                                                                                                                                                                                                               | NO          |             | public.payroll_date_types.id (ON UPDATE NO ACTION, ON DELETE CASCADE)  | UNIQUE            | Reference to the payroll date type this rule affects             |               |                          |                   |                3
 TABLE            | public       | adjustment_rules                 | rule_description                                                | text                        | text               |                                                                                                                                                                                                                                                                                                               | NO          |             |                                                                        |                   | Human-readable description of the adjustment rule                |               |                          |                   |                4
 TABLE            | public       | adjustment_rules                 | rule_code                                                       | text                        | text               |                                                                                                                                                                                                                                                                                                               | NO          |             |                                                                        |                   | Code/formula used to calculate date adjustments                  |               |                          |                   |                5
 TABLE            | public       | adjustment_rules                 | created_at                                                      | timestamp with time zone    | timestamptz        | CURRENT_TIMESTAMP                                                                                                                                                                                                                                                                                             | YES         |             |                                                                        |                   | Timestamp when the rule was created                              |               |                          |                   |                6
 TABLE            | public       | adjustment_rules                 | updated_at                                                      | timestamp with time zone    | timestamptz        | CURRENT_TIMESTAMP                                                                                                                                                                                                                                                                                             | YES         |             |                                                                        |                   | Timestamp when the rule was last updated                         |               |                          |                   |                7
 TABLE            | public       | app_settings                     | id                                                              | text                        | text               |                                                                                                                                                                                                                                                                                                               | NO          | PRIMARY KEY |                                                                        |                   | Unique identifier for application setting                        |               |                          |                   |                1
 TABLE            | public       | app_settings                     | permissions                                                     | jsonb                       | jsonb              |                                                                                                                                                                                                                                                                                                               | YES         |             |                                                                        |                   | JSON structure containing application permission configurations  |               |                          |                   |                2
 TABLE            | public       | client_external_systems          | id                                                              | uuid                        | uuid               | gen_random_uuid()                                                                                                                                                                                                                                                                                             | NO          | PRIMARY KEY |                                                                        |                   | Unique identifier for the client-system mapping                  |               |                          |                   |                1
 TABLE            | public       | client_external_systems          | client_id                                                       | uuid                        | uuid               |                                                                                                                                                                                                                                                                                                               | NO          |             | public.clients.id (ON UPDATE NO ACTION, ON DELETE CASCADE)             | UNIQUE            | Reference to the client                                          |               |                          |                   |                2
 TABLE            | public       | client_external_systems          | system_id                                                       | uuid                        | uuid               |                                                                                                                                                                                                                                                                                                               | NO          |             | public.external_systems.id (ON UPDATE NO ACTION, ON DELETE CASCADE)    | UNIQUE            | Reference to the external system                                 |               |                          |                   |                3
 TABLE            | public       | client_external_systems          | system_client_id                                                | character varying           | varchar            |                                                                                                                                                                                                                                                                                                               | YES         |             |                                                                        |                   | Client identifier in the external system                         |               |                      255 |                   |                4
 TABLE            | public       | client_external_systems          | created_at                                                      | timestamp with time zone    | timestamptz        | CURRENT_TIMESTAMP                                                                                                                                                                                                                                                                                             | YES         |             |                                                                        |                   | Timestamp when the mapping was created                           |               |                          |                   |                5
 TABLE            | public       | client_external_systems          | updated_at                                                      | timestamp with time zone    | timestamptz        | CURRENT_TIMESTAMP                                                                                                                                                                                                                                                                                             | YES         |             |                                                                        |                   | Timestamp when the mapping was last updated                      |               |                          |                   |                6
 TABLE            | public       | clients                          | id                                                              | uuid                        | uuid               | gen_random_uuid()                                                                                                                                                                                                                                                                                             | NO          | PRIMARY KEY |                                                                        |                   | Unique identifier for the client                                 |               |                          |                   |                1
 TABLE            | public       | clients                          | name                                                            | character varying           | varchar            |                                                                                                                                                                                                                                                                                                               | NO          |             |                                                                        |                   | Client company name                                              |               |                      255 |                   |                2
 TABLE            | public       | clients                          | contact_person                                                  | character varying           | varchar            |                                                                                                                                                                                                                                                                                                               | YES         |             |                                                                        |                   | Primary contact person at the client                             |               |                      255 |                   |                3
 TABLE            | public       | clients                          | contact_email                                                   | character varying           | varchar            |                                                                                                                                                                                                                                                                                                               | YES         |             |                                                                        |                   | Email address for the client contact                             |               |                      255 |                   |                4
 TABLE            | public       | clients                          | contact_phone                                                   | character varying           | varchar            |                                                                                                                                                                                                                                                                                                               | YES         |             |                                                                        |                   | Phone number for the client contact                              |               |                       50 |                   |                5
 TABLE            | public       | clients                          | active                                                          | boolean                     | bool               | true                                                                                                                                                                                                                                                                                                          | YES         |             |                                                                        |                   | Whether the client is currently active                           |               |                          |                   |                6
 TABLE            | public       | clients                          | created_at                                                      | timestamp with time zone    | timestamptz        | CURRENT_TIMESTAMP                                                                                                                                                                                                                                                                                             | YES         |             |                                                                        |                   | Timestamp when the client was created                            |               |                          |                   |                7
 TABLE            | public       | clients                          | updated_at                                                      | timestamp with time zone    | timestamptz        | CURRENT_TIMESTAMP                                                                                                                                                                                                                                                                                             | YES         |             |                                                                        |                   | Timestamp when the client was last updated                       |               |                          |                   |                8
 TABLE            | public       | external_systems                 | id                                                              | uuid                        | uuid               | gen_random_uuid()                                                                                                                                                                                                                                                                                             | NO          | PRIMARY KEY |                                                                        |                   | Unique identifier for the external system                        |               |                          |                   |                1
 TABLE            | public       | external_systems                 | name                                                            | character varying           | varchar            |                                                                                                                                                                                                                                                                                                               | NO          |             |                                                                        |                   | Name of the external system                                      |               |                      255 |                   |                2
 TABLE            | public       | external_systems                 | url                                                             | text                        | text               |                                                                                                                                                                                                                                                                                                               | NO          |             |                                                                        |                   | URL endpoint for the external system                             |               |                          |                   |                3
 TABLE            | public       | external_systems                 | description                                                     | text                        | text               |                                                                                                                                                                                                                                                                                                               | YES         |             |                                                                        |                   | Description of the external system and its purpose               |               |                          |                   |                4
 TABLE            | public       | external_systems                 | icon                                                            | character varying           | varchar            |                                                                                                                                                                                                                                                                                                               | YES         |             |                                                                        |                   | Path or reference to the system icon                             |               |                      255 |                   |                5
 TABLE            | public       | external_systems                 | created_at                                                      | timestamp with time zone    | timestamptz        | CURRENT_TIMESTAMP                                                                                                                                                                                                                                                                                             | YES         |             |                                                                        |                   | Timestamp when the system was created                            |               |                          |                   |                6
 TABLE            | public       | external_systems                 | updated_at                                                      | timestamp with time zone    | timestamptz        | CURRENT_TIMESTAMP                                                                                                                                                                                                                                                                                             | YES         |             |                                                                        |                   | Timestamp when the system was last updated                       |               |                          |                   |                7
 TABLE            | public       | feature_flags                    | id                                                              | uuid                        | uuid               | gen_random_uuid()                                                                                                                                                                                                                                                                                             | NO          | PRIMARY KEY |                                                                        |                   | Unique identifier for the feature flag                           |               |                          |                   |                1
 TABLE            | public       | feature_flags                    | feature_name                                                    | text                        | text               |                                                                                                                                                                                                                                                                                                               | NO          |             |                                                                        | UNIQUE            | Name of the feature controlled by this flag                      |               |                          |                   |                2
 TABLE            | public       | feature_flags                    | is_enabled                                                      | boolean                     | bool               | false                                                                                                                                                                                                                                                                                                         | YES         |             |                                                                        |                   | Whether the feature is currently enabled                         |               |                          |                   |                3
 TABLE            | public       | feature_flags                    | allowed_roles                                                   | jsonb                       | jsonb              | '[]'::jsonb                                                                                                                                                                                                                                                                                                   | NO          |             |                                                                        |                   | JSON array of roles that can access this feature                 |               |                          |                   |                4
 TABLE            | public       | feature_flags                    | updated_at                                                      | timestamp with time zone    | timestamptz        | now()                                                                                                                                                                                                                                                                                                         | YES         |             |                                                                        |                   | Timestamp when the feature flag was last updated                 |               |                          |                   |                5
 TABLE            | public       | holidays                         | id                                                              | uuid                        | uuid               | gen_random_uuid()                                                                                                                                                                                                                                                                                             | NO          | PRIMARY KEY |                                                                        |                   | Unique identifier for the holiday                                |               |                          |                   |                1
 TABLE            | public       | holidays                         | date                                                            | date                        | date               |                                                                                                                                                                                                                                                                                                               | NO          |             |                                                                        |                   | Date of the holiday                                              |               |                          |                   |                2
 TABLE            | public       | holidays                         | local_name                                                      | text                        | text               |                                                                                                                                                                                                                                                                                                               | NO          |             |                                                                        |                   | Name of the holiday in local language                            |               |                          |                   |                3
 TABLE            | public       | holidays                         | name                                                            | text                        | text               |                                                                                                                                                                                                                                                                                                               | NO          |             |                                                                        |                   | Name of the holiday in English                                   |               |                          |                   |                4
 TABLE            | public       | holidays                         | country_code                                                    | character                   | bpchar             |                                                                                                                                                                                                                                                                                                               | NO          |             |                                                                        |                   | ISO country code where the holiday is observed                   |               |                        2 |                   |                5
 TABLE            | public       | holidays                         | region                                                          | ARRAY                       | _text              |                                                                                                                                                                                                                                                                                                               | YES         |             |                                                                        |                   | Array of regions within the country where the holiday applies    |               |                          |                   |                6
 TABLE            | public       | holidays                         | is_fixed                                                        | boolean                     | bool               | false                                                                                                                                                                                                                                                                                                         | YES         |             |                                                                        |                   | Whether the holiday occurs on the same date each year            |               |                          |                   |                7
 TABLE            | public       | holidays                         | is_global                                                       | boolean                     | bool               | false                                                                                                                                                                                                                                                                                                         | YES         |             |                                                                        |                   | Whether the holiday is observed globally                         |               |                          |                   |                8
 TABLE            | public       | holidays                         | launch_year                                                     | integer                     | int4               |                                                                                                                                                                                                                                                                                                               | YES         |             |                                                                        |                   | First year when the holiday was observed                         |               |                          |                32 |                9
 TABLE            | public       | holidays                         | types                                                           | ARRAY                       | _text              |                                                                                                                                                                                                                                                                                                               | NO          |             |                                                                        |                   | Array of holiday types (e.g., public, bank, religious)           |               |                          |                   |               10
 TABLE            | public       | holidays                         | created_at                                                      | timestamp with time zone    | timestamptz        | CURRENT_TIMESTAMP                                                                                                                                                                                                                                                                                             | YES         |             |                                                                        |                   | Timestamp when the holiday record was created                    |               |                          |                   |               11
 TABLE            | public       | holidays                         | updated_at                                                      | timestamp with time zone    | timestamptz        | CURRENT_TIMESTAMP                                                                                                                                                                                                                                                                                             | YES         |             |                                                                        |                   | Timestamp when the holiday record was last updated               |               |                          |                   |               12
 TABLE            | public       | leave                            | id                                                              | uuid                        | uuid               | gen_random_uuid()                                                                                                                                                                                                                                                                                             | NO          | PRIMARY KEY |                                                                        |                   | Unique identifier for the leave record                           |               |                          |                   |                1
 TABLE            | public       | leave                            | user_id                                                         | uuid                        | uuid               |                                                                                                                                                                                                                                                                                                               | NO          |             | public.users.id (ON UPDATE NO ACTION, ON DELETE CASCADE)               |                   | Reference to the user taking leave                               |               |                          |                   |                2
 TABLE            | public       | leave                            | start_date                                                      | date                        | date               |                                                                                                                                                                                                                                                                                                               | NO          |             |                                                                        |                   | First day of the leave period                                    |               |                          |                   |                3
 TABLE            | public       | leave                            | end_date                                                        | date                        | date               |                                                                                                                                                                                                                                                                                                               | NO          |             |                                                                        |                   | Last day of the leave period                                     |               |                          |                   |                4
 TABLE            | public       | leave                            | leave_type                                                      | character varying           | varchar            |                                                                                                                                                                                                                                                                                                               | NO          |             |                                                                        |                   | Type of leave (vacation, sick, personal, etc.)                   |               |                       50 |                   |                5
 TABLE            | public       | leave                            | reason                                                          | text                        | text               |                                                                                                                                                                                                                                                                                                               | YES         |             |                                                                        |                   | Reason provided for the leave request                            |               |                          |                   |                7
 TABLE            | public       | leave                            | status                                                          | USER-DEFINED                | leave_status_enum  |                                                                                                                                                                                                                                                                                                               | YES         |             |                                                                        |                   | Current status of the leave request (Pending, Approved, Denied)  |               |                          |                   |                8
 TABLE            | public       | notes                            | id                                                              | uuid                        | uuid               | gen_random_uuid()                                                                                                                                                                                                                                                                                             | NO          | PRIMARY KEY |                                                                        |                   | Unique identifier for the note                                   |               |                          |                   |                1
 TABLE            | public       | notes                            | entity_type                                                     | text                        | text               |                                                                                                                                                                                                                                                                                                               | NO          |             |                                                                        |                   | Type of entity this note is attached to (client, payroll, etc.)  |               |                          |                   |                2
 TABLE            | public       | notes                            | entity_id                                                       | uuid                        | uuid               |                                                                                                                                                                                                                                                                                                               | NO          |             |                                                                        |                   | Identifier of the entity this note is attached to                |               |                          |                   |                3
 TABLE            | public       | notes                            | user_id                                                         | uuid                        | uuid               |                                                                                                                                                                                                                                                                                                               | YES         |             | public.users.id (ON UPDATE NO ACTION, ON DELETE SET NULL)              |                   | User who created the note                                        |               |                          |                   |                4
 TABLE            | public       | notes                            | content                                                         | text                        | text               |                                                                                                                                                                                                                                                                                                               | NO          |             |                                                                        |                   | Content of the note                                              |               |                          |                   |                5
 TABLE            | public       | notes                            | is_important                                                    | boolean                     | bool               | false                                                                                                                                                                                                                                                                                                         | YES         |             |                                                                        |                   | Whether the note is flagged as important                         |               |                          |                   |                6
 TABLE            | public       | notes                            | created_at                                                      | timestamp without time zone | timestamp          | now()                                                                                                                                                                                                                                                                                                         | YES         |             |                                                                        |                   | Timestamp when the note was created                              |               |                          |                   |                7
 TABLE            | public       | notes                            | updated_at                                                      | timestamp without time zone | timestamp          | now()                                                                                                                                                                                                                                                                                                         | YES         |             |                                                                        |                   | Timestamp when the note was last updated                         |               |                          |                   |                8
 TABLE            | public       | payroll_cycles                   | id                                                              | uuid                        | uuid               | gen_random_uuid()                                                                                                                                                                                                                                                                                             | NO          | PRIMARY KEY |                                                                        |                   | Unique identifier for the payroll cycle                          |               |                          |                   |                1
 TABLE            | public       | payroll_cycles                   | name                                                            | USER-DEFINED                | payroll_cycle_type |                                                                                                                                                                                                                                                                                                               | NO          |             |                                                                        | UNIQUE            | Name of the payroll cycle (Weekly, Biweekly, Monthly, etc.)      |               |                          |                   |                2
 TABLE            | public       | payroll_cycles                   | description                                                     | text                        | text               |                                                                                                                                                                                                                                                                                                               | YES         |             |                                                                        |                   | Detailed description of the payroll cycle                        |               |                          |                   |                3
 TABLE            | public       | payroll_cycles                   | created_at                                                      | timestamp with time zone    | timestamptz        | CURRENT_TIMESTAMP                                                                                                                                                                                                                                                                                             | YES         |             |                                                                        |                   | Timestamp when the cycle was created                             |               |                          |                   |                4
 TABLE            | public       | payroll_cycles                   | updated_at                                                      | timestamp with time zone    | timestamptz        | CURRENT_TIMESTAMP                                                                                                                                                                                                                                                                                             | YES         |             |                                                                        |                   | Timestamp when the cycle was last updated                        |               |                          |                   |                5
 TABLE            | public       | payroll_date_types               | id                                                              | uuid                        | uuid               | gen_random_uuid()                                                                                                                                                                                                                                                                                             | NO          | PRIMARY KEY |                                                                        |                   | Unique identifier for the payroll date type                      |               |                          |                   |                1
 TABLE            | public       | payroll_date_types               | name                                                            | USER-DEFINED                | payroll_date_type  |                                                                                                                                                                                                                                                                                                               | NO          |             |                                                                        | UNIQUE            | Name of the date type (Fixed, Last Working Day, etc.)            |               |                          |                   |                2
 TABLE            | public       | payroll_date_types               | description                                                     | text                        | text               |                                                                                                                                                                                                                                                                                                               | YES         |             |                                                                        |                   | Detailed description of how this date type works                 |               |                          |                   |                3
 TABLE            | public       | payroll_date_types               | created_at                                                      | timestamp with time zone    | timestamptz        | CURRENT_TIMESTAMP                                                                                                                                                                                                                                                                                             | YES         |             |                                                                        |                   | Timestamp when the date type was created                         |               |                          |                   |                4
 TABLE            | public       | payroll_date_types               | updated_at                                                      | timestamp with time zone    | timestamptz        | CURRENT_TIMESTAMP                                                                                                                                                                                                                                                                                             | YES         |             |                                                                        |                   | Timestamp when the date type was last updated                    |               |                          |                   |                5
 TABLE            | public       | payroll_dates                    | id                                                              | uuid                        | uuid               | gen_random_uuid()                                                                                                                                                                                                                                                                                             | NO          | PRIMARY KEY |                                                                        |                   | Unique identifier for the payroll date                           |               |                          |                   |                1
 TABLE            | public       | payroll_dates                    | payroll_id                                                      | uuid                        | uuid               |                                                                                                                                                                                                                                                                                                               | NO          |             | public.payrolls.id (ON UPDATE CASCADE, ON DELETE CASCADE)              |                   | Reference to the payroll this date belongs to                    |               |                          |                   |                2
 TABLE            | public       | payroll_dates                    | original_eft_date                                               | date                        | date               |                                                                                                                                                                                                                                                                                                               | NO          |             |                                                                        |                   | Originally calculated EFT date before adjustments                |               |                          |                   |                3
 TABLE            | public       | payroll_dates                    | adjusted_eft_date                                               | date                        | date               |                                                                                                                                                                                                                                                                                                               | NO          |             |                                                                        |                   | Final EFT date after holiday and weekend adjustments             |               |                          |                   |                4
 TABLE            | public       | payroll_dates                    | processing_date                                                 | date                        | date               |                                                                                                                                                                                                                                                                                                               | NO          |             |                                                                        |                   | Date when payroll processing must be completed                   |               |                          |                   |                5
 TABLE            | public       | payroll_dates                    | notes                                                           | text                        | text               |                                                                                                                                                                                                                                                                                                               | YES         |             |                                                                        |                   | Additional notes about this payroll date                         |               |                          |                   |                6
 TABLE            | public       | payroll_dates                    | created_at                                                      | timestamp with time zone    | timestamptz        | CURRENT_TIMESTAMP                                                                                                                                                                                                                                                                                             | YES         |             |                                                                        |                   | Timestamp when the date record was created                       |               |                          |                   |                7
 TABLE            | public       | payroll_dates                    | updated_at                                                      | timestamp with time zone    | timestamptz        | CURRENT_TIMESTAMP                                                                                                                                                                                                                                                                                             | YES         |             |                                                                        |                   | Timestamp when the date record was last updated                  |               |                          |                   |                8
 TABLE            | public       | payrolls                         | id                                                              | uuid                        | uuid               | gen_random_uuid()                                                                                                                                                                                                                                                                                             | NO          | PRIMARY KEY |                                                                        |                   | Unique identifier for the payroll                                |               |                          |                   |                1
 TABLE            | public       | payrolls                         | client_id                                                       | uuid                        | uuid               |                                                                                                                                                                                                                                                                                                               | NO          |             | public.clients.id (ON UPDATE NO ACTION, ON DELETE CASCADE)             |                   | Reference to the client this payroll belongs to                  |               |                          |                   |                2
 TABLE            | public       | payrolls                         | name                                                            | character varying           | varchar            |                                                                                                                                                                                                                                                                                                               | NO          |             |                                                                        |                   | Name of the payroll                                              |               |                      255 |                   |                3
 TABLE            | public       | payrolls                         | cycle_id                                                        | uuid                        | uuid               |                                                                                                                                                                                                                                                                                                               | NO          |             | public.payroll_cycles.id (ON UPDATE NO ACTION, ON DELETE RESTRICT)     |                   | Reference to the payroll cycle                                   |               |                          |                   |                4
 TABLE            | public       | payrolls                         | date_type_id                                                    | uuid                        | uuid               |                                                                                                                                                                                                                                                                                                               | NO          |             | public.payroll_date_types.id (ON UPDATE NO ACTION, ON DELETE RESTRICT) |                   | Reference to the payroll date type                               |               |                          |                   |                5
 TABLE            | public       | payrolls                         | date_value                                                      | integer                     | int4               |                                                                                                                                                                                                                                                                                                               | YES         |             |                                                                        |                   | Specific value for date calculation (e.g., day of month)         |               |                          |                32 |                6
 TABLE            | public       | payrolls                         | primary_consultant_user_id                                      | uuid                        | uuid               |                                                                                                                                                                                                                                                                                                               | YES         |             | public.users.id (ON UPDATE NO ACTION, ON DELETE NO ACTION)             |                   | Primary consultant responsible for this payroll                  |               |                          |                   |                7
 TABLE            | public       | payrolls                         | backup_consultant_user_id                                       | uuid                        | uuid               |                                                                                                                                                                                                                                                                                                               | YES         |             | public.users.id (ON UPDATE NO ACTION, ON DELETE NO ACTION)             |                   | Backup consultant for this payroll                               |               |                          |                   |                8
 TABLE            | public       | payrolls                         | manager_user_id                                                 | uuid                        | uuid               |                                                                                                                                                                                                                                                                                                               | YES         |             | public.users.id (ON UPDATE NO ACTION, ON DELETE NO ACTION)             |                   | Manager overseeing this payroll                                  |               |                          |                   |                9
 TABLE            | public       | payrolls                         | processing_days_before_eft                                      | integer                     | int4               | 2                                                                                                                                                                                                                                                                                                             | NO          |             |                                                                        |                   | Number of days before EFT that processing must complete          |               |                          |                32 |               10
 TABLE            | public       | payrolls                         | created_at                                                      | timestamp with time zone    | timestamptz        | CURRENT_TIMESTAMP                                                                                                                                                                                                                                                                                             | YES         |             |                                                                        |                   | Timestamp when the payroll was created                           |               |                          |                   |               11
 TABLE            | public       | payrolls                         | updated_at                                                      | timestamp with time zone    | timestamptz        | CURRENT_TIMESTAMP                                                                                                                                                                                                                                                                                             | YES         |             |                                                                        |                   | Timestamp when the payroll was last updated                      |               |                          |                   |               12
 TABLE            | public       | payrolls                         | payroll_system                                                  | character varying           | varchar            |                                                                                                                                                                                                                                                                                                               | YES         |             |                                                                        |                   | External payroll system used for this client                     |               |                      255 |                   |               13
 TABLE            | public       | payrolls                         | status                                                          | USER-DEFINED                | payroll_status     | 'Implementation'::payroll_status                                                                                                                                                                                                                                                                              | NO          |             |                                                                        |                   | Current status of the payroll (Implementation, Active, Inactive) |               |                          |                   |               14
 TABLE            | public       | payrolls                         | processing_time                                                 | integer                     | int4               | 1                                                                                                                                                                                                                                                                                                             | NO          |             |                                                                        |                   | Number of hours required to process this payroll                 |               |                          |                32 |               15
 TABLE            | public       | payrolls                         | employee_count                                                  | integer                     | int4               |                                                                                                                                                                                                                                                                                                               | YES         |             |                                                                        |                   | Number of employees in this payroll                              |               |                          |                32 |               16
 TABLE            | public       | payrolls                         | go_live_date                                                    | date                        | date               |                                                                                                                                                                                                                                                                                                               | YES         |             |                                                                        |                   | The date when the payroll went live in the system                |               |                          |                   |               17
 TABLE            | public       | permission_audit_log             | id                                                              | uuid                        | uuid               | gen_random_uuid()                                                                                                                                                                                                                                                                                             | NO          | PRIMARY KEY |                                                                        |                   | Unique identifier for the audit log entry                        |               |                          |                   |                1
 TABLE            | public       | permission_audit_log             | user_id                                                         | uuid                        | uuid               |                                                                                                                                                                                                                                                                                                               | YES         |             | public.users.id (ON UPDATE NO ACTION, ON DELETE SET NULL)              |                   | User who performed the action                                    |               |                          |                   |                2
 TABLE            | public       | permission_audit_log             | target_user_id                                                  | uuid                        | uuid               |                                                                                                                                                                                                                                                                                                               | YES         |             | public.users.id (ON UPDATE NO ACTION, ON DELETE SET NULL)              |                   | User affected by the permission change                           |               |                          |                   |                3
 TABLE            | public       | permission_audit_log             | target_role                                                     | USER-DEFINED                | user_role          |                                                                                                                                                                                                                                                                                                               | YES         |             |                                                                        |                   | Role affected by the permission change                           |               |                          |                   |                4
 TABLE            | public       | permission_audit_log             | resource                                                        | text                        | text               |                                                                                                                                                                                                                                                                                                               | NO          |             |                                                                        |                   | Resource that was accessed or modified                           |               |                          |                   |                5
 TABLE            | public       | permission_audit_log             | operation                                                       | text                        | text               |                                                                                                                                                                                                                                                                                                               | NO          |             |                                                                        |                   | Type of operation performed (create, read, update, delete)       |               |                          |                   |                6
 TABLE            | public       | permission_audit_log             | action                                                          | text                        | text               |                                                                                                                                                                                                                                                                                                               | NO          |             |                                                                        |                   | Specific action taken on the resource                            |               |                          |                   |                7
 TABLE            | public       | permission_audit_log             | previous_value                                                  | jsonb                       | jsonb              |                                                                                                                                                                                                                                                                                                               | YES         |             |                                                                        |                   | Previous state before the change                                 |               |                          |                   |                8
 TABLE            | public       | permission_audit_log             | new_value                                                       | jsonb                       | jsonb              |                                                                                                                                                                                                                                                                                                               | YES         |             |                                                                        |                   | New state after the change                                       |               |                          |                   |                9
 TABLE            | public       | permission_audit_log             | reason                                                          | text                        | text               |                                                                                                                                                                                                                                                                                                               | YES         |             |                                                                        |                   | Reason provided for the permission change                        |               |                          |                   |               10
 TABLE            | public       | permission_audit_log             | created_at                                                      | timestamp with time zone    | timestamptz        | now()                                                                                                                                                                                                                                                                                                         | YES         |             |                                                                        |                   | Timestamp when the audit log entry was created                   |               |                          |                   |               11
 TABLE            | public       | permission_overrides             | id                                                              | uuid                        | uuid               | gen_random_uuid()                                                                                                                                                                                                                                                                                             | NO          | PRIMARY KEY |                                                                        |                   | Unique identifier for the permission override                    |               |                          |                   |                1
 TABLE            | public       | permission_overrides             | user_id                                                         | uuid                        | uuid               |                                                                                                                                                                                                                                                                                                               | YES         |             | public.users.id (ON UPDATE NO ACTION, ON DELETE CASCADE)               | UNIQUE            | User receiving the permission override                           |               |                          |                   |                2
 TABLE            | public       | permission_overrides             | role                                                            | USER-DEFINED                | user_role          |                                                                                                                                                                                                                                                                                                               | YES         |             |                                                                        | UNIQUE            | Role this override applies to                                    |               |                          |                   |                3
 TABLE            | public       | permission_overrides             | resource                                                        | text                        | text               |                                                                                                                                                                                                                                                                                                               | NO          |             |                                                                        | UNIQUE            | Resource affected by this override                               |               |                          |                   |                4
 TABLE            | public       | permission_overrides             | resource                                                        | text                        | text               |                                                                                                                                                                                                                                                                                                               | NO          |             |                                                                        | UNIQUE            | Resource affected by this override                               |               |                          |                   |                4
 TABLE            | public       | permission_overrides             | operation                                                       | text                        | text               |                                                                                                                                                                                                                                                                                                               | NO          |             |                                                                        | UNIQUE            | Operation being permitted or restricted                          |               |                          |                   |                5
 TABLE            | public       | permission_overrides             | operation                                                       | text                        | text               |                                                                                                                                                                                                                                                                                                               | NO          |             |                                                                        | UNIQUE            | Operation being permitted or restricted                          |               |                          |                   |                5
 TABLE            | public       | permission_overrides             | granted                                                         | boolean                     | bool               |                                                                                                                                                                                                                                                                                                               | NO          |             |                                                                        |                   | Whether the permission is granted (true) or denied (false)       |               |                          |                   |                6
 TABLE            | public       | permission_overrides             | conditions                                                      | jsonb                       | jsonb              |                                                                                                                                                                                                                                                                                                               | YES         |             |                                                                        |                   | JSON with additional conditions for the override                 |               |                          |                   |                7
 TABLE            | public       | permission_overrides             | created_at                                                      | timestamp without time zone | timestamp          | now()                                                                                                                                                                                                                                                                                                         | YES         |             |                                                                        |                   | Timestamp when the override was created                          |               |                          |                   |                8
 TABLE            | public       | permission_overrides             | created_by                                                      | uuid                        | uuid               |                                                                                                                                                                                                                                                                                                               | YES         |             | public.users.id (ON UPDATE NO ACTION, ON DELETE SET NULL)              |                   | User who created this override                                   |               |                          |                   |                9
 TABLE            | public       | permission_overrides             | expires_at                                                      | timestamp without time zone | timestamp          |                                                                                                                                                                                                                                                                                                               | YES         |             |                                                                        |                   | Timestamp when this override expires                             |               |                          |                   |               10
 TABLE            | public       | users                            | id                                                              | uuid                        | uuid               | gen_random_uuid()                                                                                                                                                                                                                                                                                             | NO          | PRIMARY KEY |                                                                        |                   | Unique identifier for the user                                   |               |                          |                   |                1
 TABLE            | public       | users                            | name                                                            | character varying           | varchar            |                                                                                                                                                                                                                                                                                                               | NO          |             |                                                                        |                   | User's full name                                                 |               |                      255 |                   |                2
 TABLE            | public       | users                            | email                                                           | character varying           | varchar            |                                                                                                                                                                                                                                                                                                               | NO          |             |                                                                        | UNIQUE            | User's email address (unique)                                    |               |                      255 |                   |                3
 TABLE            | public       | users                            | role                                                            | USER-DEFINED                | user_role          | 'viewer'::user_role                                                                                                                                                                                                                                                                                           | NO          |             |                                                                        |                   | User's system role (viewer, consultant, manager, org_admin)      |               |                          |                   |                4
 TABLE            | public       | users                            | created_at                                                      | timestamp with time zone    | timestamptz        | CURRENT_TIMESTAMP                                                                                                                                                                                                                                                                                             | YES         |             |                                                                        |                   | Timestamp when the user was created                              |               |                          |                   |                5
 TABLE            | public       | users                            | updated_at                                                      | timestamp with time zone    | timestamptz        | CURRENT_TIMESTAMP                                                                                                                                                                                                                                                                                             | YES         |             |                                                                        |                   | Timestamp when the user was last updated                         |               |                          |                   |                6
 TABLE            | public       | users                            | username                                                        | character varying           | varchar            |                                                                                                                                                                                                                                                                                                               | YES         |             |                                                                        | UNIQUE            | User's unique username for login                                 |               |                      255 |                   |                7
 TABLE            | public       | users                            | image                                                           | text                        | text               |                                                                                                                                                                                                                                                                                                               | YES         |             |                                                                        |                   | URL to the user's profile image                                  |               |                          |                   |                8
 TABLE            | public       | users                            | is_staff                                                        | boolean                     | bool               | false                                                                                                                                                                                                                                                                                                         | YES         |             |                                                                        |                   | Whether the user is a staff member (vs. external user)           |               |                          |                   |                9
 TABLE            | public       | users                            | manager_id                                                      | uuid                        | uuid               |                                                                                                                                                                                                                                                                                                               | YES         |             | public.users.id (ON UPDATE CASCADE, ON DELETE SET NULL)                |                   | Reference to the user's manager                                  |               |                          |                   |               10
 TABLE            | public       | users                            | clerk_user_id                                                   | text                        | text               |                                                                                                                                                                                                                                                                                                               | YES         |             |                                                                        | UNIQUE            | External identifier from Clerk authentication service            |               |                          |                   |               11
 TABLE            | public       | work_schedule                    | id                                                              | uuid                        | uuid               | gen_random_uuid()                                                                                                                                                                                                                                                                                             | NO          | PRIMARY KEY |                                                                        |                   | Unique identifier for the work schedule entry                    |               |                          |                   |                1
 TABLE            | public       | work_schedule                    | user_id                                                         | uuid                        | uuid               |                                                                                                                                                                                                                                                                                                               | NO          |             | public.users.id (ON UPDATE NO ACTION, ON DELETE CASCADE)               | UNIQUE            | Reference to the user this schedule belongs to                   |               |                          |                   |                2
 TABLE            | public       | work_schedule                    | work_day                                                        | character varying           | varchar            |                                                                                                                                                                                                                                                                                                               | NO          |             |                                                                        | UNIQUE            | Day of the week (Monday, Tuesday, etc.)                          |               |                       10 |                   |                3
 TABLE            | public       | work_schedule                    | work_hours                                                      | numeric                     | numeric            |                                                                                                                                                                                                                                                                                                               | NO          |             |                                                                        |                   | Number of hours worked on this day                               |               |                          |                 4 |                4
 TABLE            | public       | work_schedule                    | created_at                                                      | timestamp without time zone | timestamp          | now()                                                                                                                                                                                                                                                                                                         | YES         |             |                                                                        |                   | Timestamp when the schedule entry was created                    |               |                          |                   |                5
 TABLE            | public       | work_schedule                    | updated_at                                                      | timestamp without time zone | timestamp          | now()                                                                                                                                                                                                                                                                                                         | YES         |             |                                                                        |                   | Timestamp when the schedule entry was last updated               |               |                          |                   |                6
 TRIGGER          | public       | feature_flags                    | update_feature_flags_modtime                                    | BEFORE UPDATE               |                    | EXECUTE FUNCTION update_modified_column()                                                                                                                                                                                                                                                                     |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 TRIGGER          | public       | notes                            | check_entity_relation                                           | BEFORE UPDATE               |                    | EXECUTE FUNCTION enforce_entity_relation()                                                                                                                                                                                                                                                                    |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 TRIGGER          | public       | notes                            | check_entity_relation                                           | BEFORE INSERT               |                    | EXECUTE FUNCTION enforce_entity_relation()                                                                                                                                                                                                                                                                    |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 TRIGGER          | public       | payrolls                         | enforce_staff_on_payrolls                                       | BEFORE UPDATE               |                    | EXECUTE FUNCTION enforce_staff_roles()                                                                                                                                                                                                                                                                        |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 TRIGGER          | public       | payrolls                         | enforce_staff_on_payrolls                                       | BEFORE INSERT               |                    | EXECUTE FUNCTION enforce_staff_roles()                                                                                                                                                                                                                                                                        |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 TRIGGER          | public       | payrolls                         | update_payroll_dates_trigger                                    | AFTER UPDATE                |                    | EXECUTE FUNCTION update_payroll_dates()                                                                                                                                                                                                                                                                       |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
 TRIGGER          | public       | work_schedule                    | trigger_prevent_duplicate_insert                                | BEFORE INSERT               |                    | EXECUTE FUNCTION prevent_duplicate_workday_insert()                                                                                                                                                                                                                                                           |             |             |                                                                        |                   |                                                                  |               |                          |                   |                 
(304 rows)

